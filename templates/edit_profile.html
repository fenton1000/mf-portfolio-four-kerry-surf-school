{% extends "base.html" %}

{% block content %}

{% load static %}

<main>
    <h2 class="ps-3">You can edit your customer profile here {{ user.username }}!</h2>
    <p class="ps-3">Please edit the appropriate fields and submit changes once you are ready to do so:</p>
    <div class="container">
        <div class="row">
            <div class="col-md-8 mt-3 offset-md-2 d-flex justify-content-center">
                <form method="POST">
                    {% csrf_token %}
                    <p>
                        {{ form.non_field_errors }}
                    </p>
                    <p>
                        {{ form.first_name.label_tag }}
                    </p>
                    <p>
                        {{ form.first_name.errors }}
                        {{ form.first_name }}
                    </p>
                    <p>
                        {{ form.last_name.label_tag }}
                    </p>
                    <p>
                        {{ form.last_name.errors }}
                        {{ form.last_name }}
                    </p>
                    <p>
                        {{ form.email.label_tag }}
                    </p>
                    <p>
                        {{ form.email.errors }}
                        {{ form.email }}
                    </p>
                    <p>
                        <label for="id_phone_num">Telephone Number:</label>
                    </p>
                    <p>
                        {{ form.phone_num.errors }}
                        <input type="tel" pattern="[0-9, '', +]+" name="phone_num" value="{{ form.phone_num.value }}"
                            maxlength="20" required id="id_phone_num">
                    </p>
                    <p>
                        <label for="id_date_of_birth">Date of birth:</label>
                    </p>
                    <p>
                        {{ form.date_of_birth.errors }}
                        <input type="date" name="date_of_birth" required id="id_date_of_birth">
                    </p>
                    <p>
                        {{ form.height.label_tag }} (In metres. Max 2 decimal places)
                    </p>
                    <p>
                        {{ form.height.errors }}
                        <input type="number" name="height" value="{{ form.height.value }}" step="0.01" required
                            id="id_height" min="0" max="3" placeholder="0.00"> m
                    </p>
                    <p>
                        {{ form.weight.label_tag }} (In kg. Max 1 decimal place)
                    </p>
                    <p>
                        {{ form.weight.errors }}
                        <input type="number" name="weight" value="{{ form.weight.value }}" step="0.1" required
                            id="id_weight" min="0" max="999" placeholder="000.0"> kg
                    </p>
                    <button class="btn light-blue-btn-bg-color my-2" type="submit">Update Profile!</button>
                    <a href="{% url 'customer' %}" class="btn light-blue-btn-bg-color text-styling my-2 ms-3">Go
                        Back!</a>
                </form>
            </div>
        </div>
    </div>
    <p class="ps-3">All of the above details are required to confirm your booking.
        The information provided will be used for no other purpose other than
        to administer your booking and provide an appropriate lesson.
    </p>
</main>

<script src="{% static 'js/editProfile.js' %}" defer data-dob="{{ form.date_of_birth.value }}"></script>
<script src="{% static 'js/dateOfBirth.js' %}" defer></script>

{% endblock content %}